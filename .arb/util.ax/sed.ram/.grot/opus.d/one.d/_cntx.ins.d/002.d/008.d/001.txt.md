## Многострочная запись микропрограммы

При однострочной записи, команды должны отделяться друг от друга точкой с запятой:

```
sed -n 'p;p;p' <<< "test"
```

В многострочной записи признаком конца команды служит символ перевода строки. Таким образом, предыдущий пример можно записать так:

```
sed -n '
p
p
p' <<< "test"

 # Начальные пробелы как правило игнорируются, поэтому такая запись синтаксически верна
sed -n '
    p
 p
    p' <<< "test"
```

Многострочная запись используется, когда микропрограмма сложная. Обычно в таких процедурах много блоков, в том числе и вложенных. Следующая процедура демонстрирует законченный пример многострочной микропрограммы.

```
 # Следующий вызов позволяет зачистить файл от пустых строк и строк с комментариями, начинающиеся на решетку.
 # Здесь диапазоны в общем то не нужны: они вставлены, чтобы усложнить пример.
$ cat > test.conf <<EOF
begin
 # Конфигурационный файл с комментариями

timeout=5
threads=3
 #


size=312

name=proc
end
EOF

$ sed -n '
		1,$ {
			/begin/,/end/ {
				s/#.*//
				s/[[:blank:]]*$//
				/^$/ d
				p
			}
		}
' test.conf
begin
timeout=5
threads=3
size=312
name=proc
end
```
