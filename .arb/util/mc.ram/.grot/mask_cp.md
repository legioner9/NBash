## Маски файлов для операций копирования/переименования

При выполнении операций копирования и перемещения (или переименования) 
файлов вы имеете возможность изменить имена копируемых или перемещаемых файлов. 
Для этого вы должны задать маску для имен файлов-источников и маску для имен файлов, 
которые будут созданы (файлы-приемники). Обычно эта вторая маска представляет собой 
несколько символов замены (wildcards) в конце строки, определяющей место назначение 
создаваемых файлов. Все файлы, удовлетворяющие маске источника, будут переименованы 
(скопированы или перемещены с новыми именами) в соответствии с маской файла-приемника. 
Если имеются помеченные файлы, то копируются (перемещаются) 
только помеченные файлы, удовлетворяющие заданной маске для файлов-источников.

Есть еще несколько опций, которые влияют на выполнение операций копирования/перемещения 
файлов, и которые устанавливаются в том же окне запроса, где задаются маски имен файлов:

"Разыменовывать ссылки" (Follow links) определяет, будут ли при копировании 
жестких или символических ссылок в каталоге- приемнике (и рекурсивно в подкаталогах) 
создаваться такие же ссылки, или будут копироваться файлы (и подкаталоги), 
на которые эти ссылки указывают.

"Внутрь каталога, если есть" (Dive into subdirs) определяет, что делать, 
если в каталоге-приемнике уже существует подкаталог, имя которого совпадает 
с именем файла (каталога), который копируется (источника). 
По умолчанию (опция отключена) содержимое каталога-источника копируется в каталог-приемник. 
Если опция включена, то в каталоге приемнике будет создан новый подкаталог с тем же именем, 
в который и будет осуществляться копирование. Лучше показать это на примере:

Пусть вы хотите скопировать содержимое каталога foo в каталог 
/bla/foo, который уже существует. Обычно (опция отключена) mc будет просто копировать все файлы из foo в /bla/foo. Если опцию включить, копирование файлов будет производиться в /bla/foo/foo.

"Сохранять атрибуты" (Preserve attributes) определяет, будут ли при 
копировании/перемещении сохранены атрибуты исходного файла: права доступа, 
временные метки и, если вы root, UID и GID исходного файла. 
Если опция отключена, атрибуты будут установлены в соответствии с текущим значением umask.

Опция Образцы в стиле shell включена.

Когда опция Образцы в стиле shell включена, можно использовать символы замены 
(wildcards) '*' и '?' в маске источника. Они обрабатываются аналогично тому, 
как это делается в shell. В маске приемника разрешается использовать только '*' 
и '\<цифра>'. Первый символ '*' в маске приемника соответствует первой группе 
символов замены в маске источника, второй символ '*' соответствует 
второй группе и т.д. Аналогично, символ замены '\1' соответствует первой группе 
символов замены в маске источника, символ '\2' - второй группе и т.д. до '\9'. 
Символ '\0' соответствует целому имени файла-источника.

#### Два примера:

Если маска источника "*.tar.gz", а приемник - "/bla/*.tgz" и имя копируемого файла 
- "foo.tar.gz", копия будет называться "foo.tgz" и будет находиться в каталоге "/bla".

Предположим вы хотите поменять местами имя и расширение файла, 
так чтобы "file.c" стал файлом "c.file". Маска источника для этого 
должна иметь вид "*.*", а маска приемника - "\2.\1".

Опция Образцы в стиле shell выключена.

Когда опция Образцы в стиле shell (Use shell patterns) выключена, 
MC не осуществляет автоматической группировки. Для указания групп символов в маске источника, 
которые будут соответствовать символам замены в маске приемника, 
вы должны в этом случае использовать скобки \ (...\)'. Этот способ более гибкий, 
но требует больше усилий при вводе.

#### Два примера:

Если маска источника имеет вид "^\(.*\)\.tar\.gz$", копирование 
производится в "/bla/*.tgz" и копируется файл "foo.tar.gz", то результатом будет "/bla/foo.tgz".

Предположим, что вы хотите поменять местами имя файла и его расширение, 
так чтобы имена вида "file.c" приняли вид "c.file". Маска источника для этого - 
"^\(.*\)\.\(.*\)$", а маска приемника - "\2.\1".

### Преобразование регистра

Вы можете также преобразовать регистр символов в именах файлов. 
Если вы используете '\u' или '\l' в маске приемника, то следующий символ имени 
будет образован в верхнем (заглавные символы) или нижнем (строчные) регистре соответственно.

Если использовать в маске приемника '\U' или '\L', то к соответствующему регистру 
будут преобразованы все последующие символы, вплоть до следующего вхождения '\E' или '\U', 
появления символа '\L' или конца имени файла.

Применение '\u' и '\l' обеспечивает более широкие возможности, чем \ U' и '\L'.

Например, если маска источника есть '*' (опция "Образцы в стиле shell" включена) 
или '^\(.*\)$' (опция "Образцы в стиле shell" выключена), а маска приемника есть 
'\L\u*', имена файлов будут преобразованы таким образом, что первые буквы имени 
будут заглавными, а все остальные - строчными.

Символ '\' в масках используется для отмены специальной интерпретации отдельных символов. 
Например, '\\' означает просто backslash и '\*' означает просто звездочку (asterisk). 